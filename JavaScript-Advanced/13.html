<!DOCTYPE html>
<html>
<head><title>Challenge 13: Save to localStorage</title></head>
<body>
<h1>Convert Object to JSON and Save to localStorage</h1>
<div>let settings = {theme: "dark", lang: "en"};</div>
<button onclick="saveToStorage()">Save to localStorage</button>
<button onclick="loadFromStorage()">Load from localStorage</button>
<button onclick="clearStorage()">Clear Storage</button>
<button onclick="showCode()">Show Code</button>
<div id="result"></div>
<div id="code" style="display:none; background:#f5f5f5; padding:10px;"></div>
<script>
function saveToStorage() {
    let settings = {theme: "dark", lang: "en"};
    let json = JSON.stringify(settings);
    localStorage.setItem('appSettings', json);
    document.getElementById('result').innerHTML = 
        `<strong>Saved to localStorage:</strong> ${json}`;
    console.log('Saved:', json);
}
function loadFromStorage() {
    let json = localStorage.getItem('appSettings');
    if (json) {
        let settings = JSON.parse(json);
        document.getElementById('result').innerHTML = 
            `<strong>Loaded from localStorage:</strong><br>
             Theme: ${settings.theme}<br>
             Language: ${settings.lang}`;
        console.log('Loaded:', settings);
    } else {
        document.getElementById('result').innerHTML = 
            'No settings found in localStorage';
    }
}
function clearStorage() {
    localStorage.removeItem('appSettings');
    document.getElementById('result').innerHTML = 
        'Settings cleared from localStorage';
}
function showCode() {
    document.getElementById('code').innerHTML = 
`// Save object to localStorage
let settings = {theme: "dark", lang: "en"};
let json = JSON.stringify(settings);
localStorage.setItem('appSettings', json);

// Load from localStorage
let savedJson = localStorage.getItem('appSettings');
if (savedJson) {
    let loadedSettings = JSON.parse(savedJson);
    console.log('Theme:', loadedSettings.theme);
    console.log('Language:', loadedSettings.lang);
}

// Clear storage
localStorage.removeItem('appSettings');`;
    document.getElementById('code').style.display = 'block';
}
</script>
</body>
</html>