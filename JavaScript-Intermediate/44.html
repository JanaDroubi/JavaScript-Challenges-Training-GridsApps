<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Challenge 44: Expand/Collapse Dropdown</title>
    <style>
        body { font-family: Arial; padding: 20px; max-width: 400px; margin: 0 auto; }
        .dropdown {
            border: 1px solid #ccc;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        .dropdown-title {
            background-color: #4CAF50;
            color: white;
            padding: 15px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .dropdown-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .dropdown-content.expanded {
            max-height: 200px;
        }
        .dropdown-content ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        .dropdown-content li {
            padding: 12px 15px;
            border-top: 1px solid #eee;
        }
        .dropdown-content li:hover {
            background-color: #f5f5f5;
        }
        .arrow {
            transition: transform 0.3s;
        }
        .arrow.expanded {
            transform: rotate(180deg);
        }
        button { margin: 10px; padding: 10px; }
    </style>
</head>
<body>
    <h1>Expand/Collapse Dropdown Menu</h1>
    
    <div class="dropdown">
        <div class="dropdown-title" onclick="toggleDropdown()">
            <span>Select an Option</span>
            <span class="arrow">â–¼</span>
        </div>
        <div class="dropdown-content" id="dropdown-content">
            <ul>
                <li onclick="selectOption('Option 1')">Option 1</li>
                <li onclick="selectOption('Option 2')">Option 2</li>
                <li onclick="selectOption('Option 3')">Option 3</li>
                <li onclick="selectOption('Option 4')">Option 4</li>
                <li onclick="selectOption('Option 5')">Option 5</li>
            </ul>
        </div>
    </div>
    
    <div id="selected-option" style="padding: 10px; background-color: #f0f0f0; margin: 10px 0;">
        No option selected
    </div>
    
    <button onclick="expandDropdown()">Expand Dropdown</button>
    <button onclick="collapseDropdown()">Collapse Dropdown</button>
    
    <script>
        let isExpanded = false;
        const dropdownContent = document.getElementById('dropdown-content');
        const arrow = document.querySelector('.arrow');
        const dropdownTitle = document.querySelector('.dropdown-title span:first-child');
        
        function toggleDropdown() {
            isExpanded = !isExpanded;
            
            if (isExpanded) {
                dropdownContent.classList.add('expanded');
                arrow.classList.add('expanded');
                console.log('Dropdown expanded');
            } else {
                dropdownContent.classList.remove('expanded');
                arrow.classList.remove('expanded');
                console.log('Dropdown collapsed');
            }
        }
        
        function selectOption(option) {
            dropdownTitle.textContent = option;
            document.getElementById('selected-option').innerHTML = 
                `<strong>Selected:</strong> ${option}`;
            
            console.log('Option selected:', option);
            
            // Collapse dropdown after selection
            setTimeout(() => {
                if (isExpanded) toggleDropdown();
            }, 300);
        }
        
        function expandDropdown() {
            if (!isExpanded) {
                toggleDropdown();
            }
        }
        
        function collapseDropdown() {
            if (isExpanded) {
                toggleDropdown();
            }
        }
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.dropdown') && isExpanded) {
                toggleDropdown();
            }
        });
    </script>
</body>
</html>